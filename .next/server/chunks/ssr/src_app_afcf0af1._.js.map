{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/asong/asong/src/app/components/ui/Sidebar.tsx"],"sourcesContent":["\"use client\"\r\nimport Image from \"next/image\"\r\n\r\n\r\n\r\n\r\n\r\n  \r\n\r\n export default function Sidebar() {\r\n\r\n    \r\n    \r\n    \r\n    return <div className=\"flex flex-col justify-between py-10  bg-white/30 backdrop-blur-md h-screen border-r-2 border-r-white p-4 \">\r\n        <div className=\"flex flex-col   \">\r\n        <Image alt=\"logo\" width={50} height={50}  src={'/logo.png'}/>\r\n        <div className=\"text-2xl font-bold text-purple-800 mt-6\"> Asong  </div>\r\n             </div>\r\n\r\n            <div  className={`flex items-center  hover:bg-white/10 rounded-full justify-center w-full    gap-3 text-white/60 text-sm p-2 mt-2 coursor-pointer`}>\r\n                \r\n                \r\n                 </div>  \r\n            \r\n       \r\n    </div>\r\n\r\n }\r\n    \r\n"],"names":[],"mappings":";;;;AACA;AADA;;;AASgB,SAAS;IAKrB,qBAAO,8OAAC;QAAI,WAAU;;0BAClB,8OAAC;gBAAI,WAAU;;kCACf,8OAAC,6HAAA,CAAA,UAAK;wBAAC,KAAI;wBAAO,OAAO;wBAAI,QAAQ;wBAAK,KAAK;;;;;;kCAC/C,8OAAC;wBAAI,WAAU;kCAA0C;;;;;;;;;;;;0BAGrD,8OAAC;gBAAK,WAAW,CAAC,+HAA+H,CAAC;;;;;;;;;;;;AAQ7J","debugId":null}},
    {"offset": {"line": 66, "column": 0}, "map": {"version":3,"sources":["file://C%3A/asong/asong/src/app/components/icon/arrow.tsx"],"sourcesContent":["export function Arrow() {\r\n    return<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth={1.5} stroke=\"currentColor\" className=\"size-6  cursor-pointer\">\r\n    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M17.25 8.25 21 12m0 0-3.75 3.75M21 12H3\" />\r\n  </svg>\r\n  \r\n}"],"names":[],"mappings":";;;;;AAAO,SAAS;IACZ,qBAAM,8OAAC;QAAI,OAAM;QAA6B,MAAK;QAAO,SAAQ;QAAY,aAAa;QAAK,QAAO;QAAe,WAAU;kBAChI,cAAA,8OAAC;YAAK,eAAc;YAAQ,gBAAe;YAAQ,GAAE;;;;;;;;;;;AAGzD","debugId":null}},
    {"offset": {"line": 100, "column": 0}, "map": {"version":3,"sources":["file://C%3A/asong/asong/src/app/components/ui/prompt.tsx"],"sourcesContent":["'use client';\r\nimport React, { useState, useRef, useEffect } from 'react';\r\nimport { Arrow } from '../icon/arrow';\r\nimport toast from 'react-hot-toast';\r\n\r\ninterface Message {\r\n  role: 'user' | 'assistant';\r\n  content: string;\r\n}\r\n\r\ninterface ApiResponse {\r\n  success: boolean;\r\n  data?: {\r\n    role: 'assistant';\r\n    content: string;\r\n  };\r\n  error?: string;\r\n}\r\n\r\ninterface PromptBoxProps {\r\n  isLoading: boolean;\r\n  setIsLoading: (isLoading: boolean) => void;\r\n  prompts: Message[];\r\n  setPrompts: (prompts: Message[]) => void;\r\n}\r\n\r\nconst PromptBox = ({ \r\n  isLoading, \r\n  setIsLoading, \r\n  prompts, \r\n  setPrompts \r\n}: PromptBoxProps) => {\r\n  const [input, setInput] = useState('');\r\n  const textareaRef = useRef<HTMLTextAreaElement>(null);\r\n  const containerRef = useRef<HTMLDivElement>(null);\r\n\r\n  // Auto-resize textarea based on content\r\n  useEffect(() => {\r\n    if (textareaRef.current) {\r\n      textareaRef.current.style.height = 'auto';\r\n      textareaRef.current.style.height = `${Math.min(\r\n        textareaRef.current.scrollHeight,\r\n        200\r\n      )}px`;\r\n    }\r\n  }, [input]);\r\n\r\n  // Scroll to bottom when prompts change\r\n  useEffect(() => {\r\n    containerRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  }, [prompts]);\r\n\r\n  const sendMessages = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (!input.trim() || isLoading) return;\r\n\r\n    const userPrompt: Message = {\r\n      role: 'user', // Changed from 'assistant' to 'user'\r\n      content: input.trim(),\r\n    };\r\n\r\n    // Optimistic update\r\n    const newPrompts = [...prompts, userPrompt];\r\n    setPrompts(newPrompts);\r\n    setInput('');\r\n    setIsLoading(true);\r\n\r\n    try {\r\n      const response = await fetch('/api/ai', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ prompts: newPrompts }), // Changed from 'prompt' to 'prompts'\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`);\r\n      }\r\n\r\n      const data: ApiResponse = await response.json();\r\n\r\n      if (!data.success || !data.data?.content) {\r\n        throw new Error(data.error || 'No content in AI response');\r\n      }\r\n\r\n      setPrompts(prev => [\r\n        ...prev,\r\n        { role: 'assistant', content: data.data.content  },\r\n      ]);\r\n    } catch (error) {\r\n      console.error('API Error:', error);\r\n      // Revert optimistic update on error\r\n      setPrompts(prompts);\r\n      toast.error(\r\n        error instanceof Error \r\n          ? error.message \r\n          : 'Failed to get AI response'\r\n      );\r\n    } finally {\r\n      setIsLoading(false);\r\n      textareaRef.current?.focus();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"w-full\">\r\n      <form\r\n        onSubmit={sendMessages}\r\n        className={`w-full ${prompts.length > 1 ? 'max-w-3xl' : 'max-w-2xl'} bg-white/10 backdrop-blur-md drop-shadow-lg border-white border-2 rounded-3xl mt-4 transition-all shadow-2xs p-4`}\r\n      >\r\n        <div className=\"flex items-end gap-2\">\r\n          <textarea\r\n            ref={textareaRef}\r\n            className=\"outline-none overflow-hidden resize-none bg-transparent break-words w-full max-h-[200px]\"\r\n            rows={1}\r\n            placeholder=\"Type here your fav lyrics\"\r\n            onChange={(e) => setInput(e.target.value)}\r\n            value={input}\r\n            disabled={isLoading}\r\n            aria-label=\"Type your message\"\r\n            onKeyDown={(e) => {\r\n              if (e.key === 'Enter' && !e.shiftKey) {\r\n                e.preventDefault();\r\n                sendMessages(e);\r\n              }\r\n            }}\r\n          />\r\n          <button\r\n            className={`flex-shrink-0 ${\r\n              prompts.length > 1 \r\n                ? 'bg-purple-800 text-white hover:bg-purple-700' \r\n                : 'bg-purple-200 text-purple-800 hover:bg-purple-300'\r\n            } p-2 rounded-full transition-colors disabled:opacity-50`}\r\n            type=\"submit\"\r\n            disabled={isLoading || !input.trim()}\r\n            aria-label=\"Send message\"\r\n          >\r\n            <Arrow />\r\n          </button>\r\n        </div>\r\n      </form>\r\n      <div ref={containerRef} aria-hidden=\"true\" />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PromptBox;"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 259, "column": 0}, "map": {"version":3,"sources":["file://C%3A/asong/asong/src/app/%28root%29/dashboard/page.tsx"],"sourcesContent":["\"use client\";\r\nimport Sidebar from \"@/app/components/ui/Sidebar\";\r\nimport { useState } from \"react\";\r\nimport Image from \"next/image\";\r\nimport { motion } from \"framer-motion\";\r\nimport PromptBox from \"@/app/components/ui/prompt\";\r\n\r\ninterface Message {\r\n  role: \"assistant\" | \"user\";\r\n  content: string;\r\n}\r\n\r\nexport default function Dashboard() {\r\n  const [prompts, setPrompts] = useState<Message[]>([]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  return (\r\n    <div className=\"flex w-full bg-gradient-to-r from-indigo-100 via-purple-100 to-pink-100\">\r\n      <div className=\"left-0 sticky lg:mr-96\">\r\n        <Sidebar />\r\n      </div>\r\n      <div className=\"flex flex-col w-full px-5 justify-center\">\r\n        {prompts.length === 0 ? (\r\n          <div className=\"justify-center md:mx-40  lg:mx-80\">\r\n            <motion.div\r\n              initial={{ opacity: 0, scale: 0 }}\r\n              animate={{ opacity: 1, scale: 1 }}\r\n              transition={{\r\n                duration: 0.4,\r\n                scale: { type: \"spring\", visualDuration: 0.4, bounce: 0.5 },\r\n              }}\r\n              className=\"flex rounded-full\"\r\n            >\r\n              <Image\r\n                alt=\"pic\"\r\n                className=\"flex justify-center rounded-full outline-1 md:mr-30 lg:mr-72 outline-purple-300 border-2 border-purple-200 bg-purple-100 p-1\"\r\n                width={60}\r\n                height={60}\r\n                src={\"/logo.png\"}\r\n              />\r\n            </motion.div>\r\n            <motion.p\r\n              animate={{ scale: 1.2 }}\r\n              className=\"flex justify-start lg:mr-40 text-3xl text-purple-800 font-bold mt-1.5\"\r\n            >\r\n              Asong\r\n            </motion.p>\r\n          </div>\r\n        ) : (\r\n          <div className=\"flex flex-col space-y-1 overflow-y-auto h-96\">\r\n          <div className=\" justify-start p-2 lg:mr-96 text-2xl font-sans text-gray-500 font-semibold rounded-full bg-blue-200\"> Type your favourite lyrics to get know your inner thoughts  </div>\r\n          <div className=\"flex flex-col w-full justify-center scroll-mt-32 md:scroll-mt-36  lg:scroll-mt-48 \">\r\n           \r\n            {prompts.map((prompt, index) => (\r\n              <div\r\n                key={index}\r\n                className={`flex `}\r\n              >\r\n                \r\n                {prompt.role === \"assistant\" && (\r\n                  <div className=\"h-8 w-8 rounded-full bg-blue-200\"></div>\r\n                )}\r\n                <div\r\n                  className={`px-4 py-2 text-lg font-semibold  my-2 rounded-2xl max-w-[80%] hover:scale-50 ${\r\n                    prompt.role === \"user\" ? \"bg-gray-200\" : \"bg-blue-200\"\r\n                  }`}\r\n                >\r\n                  <p className=\"text-md text-gray-500 p-2 tracking-wide\">{prompt.content}</p>\r\n                </div>\r\n                {prompt.role === \"user\" && (\r\n                  <div className=\" rounded-full bg-gray-200 flex items-center\"></div>\r\n                )}\r\n              </div>\r\n             \r\n            ))}\r\n          </div>\r\n          </div> \r\n        )}\r\n        <div className={` sticky`}>\r\n          <PromptBox\r\n            setIsLoading={setIsLoading}\r\n            setPrompts={setPrompts}\r\n            prompts={prompts}\r\n            isLoading={isLoading}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":";;;;AACA;AACA;AACA;AACA;AACA;AALA;;;;;;;AAYe,SAAS;IACtB,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAa,EAAE;IACpD,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAE3C,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC,0IAAA,CAAA,UAAO;;;;;;;;;;0BAEV,8OAAC;gBAAI,WAAU;;oBACZ,QAAQ,MAAM,KAAK,kBAClB,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,0LAAA,CAAA,SAAM,CAAC,GAAG;gCACT,SAAS;oCAAE,SAAS;oCAAG,OAAO;gCAAE;gCAChC,SAAS;oCAAE,SAAS;oCAAG,OAAO;gCAAE;gCAChC,YAAY;oCACV,UAAU;oCACV,OAAO;wCAAE,MAAM;wCAAU,gBAAgB;wCAAK,QAAQ;oCAAI;gCAC5D;gCACA,WAAU;0CAEV,cAAA,8OAAC,6HAAA,CAAA,UAAK;oCACJ,KAAI;oCACJ,WAAU;oCACV,OAAO;oCACP,QAAQ;oCACR,KAAK;;;;;;;;;;;0CAGT,8OAAC,0LAAA,CAAA,SAAM,CAAC,CAAC;gCACP,SAAS;oCAAE,OAAO;gCAAI;gCACtB,WAAU;0CACX;;;;;;;;;;;6CAKH,8OAAC;wBAAI,WAAU;;0CACf,8OAAC;gCAAI,WAAU;0CAAsG;;;;;;0CACrH,8OAAC;gCAAI,WAAU;0CAEZ,QAAQ,GAAG,CAAC,CAAC,QAAQ,sBACpB,8OAAC;wCAEC,WAAW,CAAC,KAAK,CAAC;;4CAGjB,OAAO,IAAI,KAAK,6BACf,8OAAC;gDAAI,WAAU;;;;;;0DAEjB,8OAAC;gDACC,WAAW,CAAC,6EAA6E,EACvF,OAAO,IAAI,KAAK,SAAS,gBAAgB,eACzC;0DAEF,cAAA,8OAAC;oDAAE,WAAU;8DAA2C,OAAO,OAAO;;;;;;;;;;;4CAEvE,OAAO,IAAI,KAAK,wBACf,8OAAC;gDAAI,WAAU;;;;;;;uCAfZ;;;;;;;;;;;;;;;;kCAuBb,8OAAC;wBAAI,WAAW,CAAC,OAAO,CAAC;kCACvB,cAAA,8OAAC,yIAAA,CAAA,UAAS;4BACR,cAAc;4BACd,YAAY;4BACZ,SAAS;4BACT,WAAW;;;;;;;;;;;;;;;;;;;;;;;AAMvB","debugId":null}}]
}